<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <title>OCPP Central System Service</title>
</head>

<body>
<div id="wrapper">
    <div class="container shadow-sm p-3 mb-5 bg-white rounded">
        <h2>OCPP Central System Service</h2>
        <br>
        <div class="tab-content">
            <div id="tab-account" class="tab-pane active">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="#">API</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="nav nav-tabs mr-auto">
                            <li class="nav-item">
                                <a class="nav-link active" data-toggle="tab" href="#tab-charge-point-list">List</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab-get-configuration">Get</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab-change-configuration">Change</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab-remote-start-transaction">Start</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab-remote-stop-transaction">Stop</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#tab-reserve-now">Reserve</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab-cancel-reservation">Cancel</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-toggle="tab" href="#tab-reset">Reset</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="btnSettings" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Other</a>
                                <div class="dropdown-menu" aria-labelledby="other">
                                    <a class="dropdown-item" data-toggle="tab" href="#tab-get-charge-point">DataBase</a>
                                    <a class="dropdown-item" data-toggle="tab" href="#tab-settings">Settings</a>
                                </div>
                            </li>
                        </ul>
                        <span class="navbar-text">
                              Charge Point
                          </span>
                    </div>
                </nav>
                <!-- Tab panes -->
                <div class="tab-content">
                    <div id="tab-charge-point-list" class="container tab-pane active">
                        <div id="ChargePointListRequest" class="mt-3">
                            <small class="form-text text-muted">Wait response...</small>
                        </div>
                    </div>
                    <div id="tab-get-configuration" class="container tab-pane fade">
                        <div class="mt-3">
                            <small class="form-text text-muted">Get configuration:</small>
                            <hr>
                            <form onsubmit="GetConfiguration()">
                                <div class="form-group row">
                                    <label for="GetConfigurationKey" class="col-sm-2 col-form-label">Key</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="GetConfigurationKey" placeholder="String50">
                                    </div>
                                </div>
                                <button id="btnGetConfiguration" type="submit" class="btn btn-primary">Execute</button>
                            </form>
                            <hr>
                            <div id="GetConfigurationRequest" class="mt-3">
                                <small class="form-text text-muted">Press "Execute" button...</small>
                            </div>
                        </div>
                    </div>
                    <div id="tab-change-configuration" class="container tab-pane fade">
                        <div class="mt-3">
                            <small class="form-text text-muted">Change configuration:</small>
                            <hr>
                            <form onsubmit="ChangeConfiguration()">
                                <div class="form-group row">
                                    <label for="ChangeConfigurationKey" class="col-sm-2 col-form-label">Key</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="ChangeConfigurationKey" placeholder="String50" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="ChangeConfigurationValue" class="col-sm-2 col-form-label">Value</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="ChangeConfigurationValue" placeholder="String500" required>
                                    </div>
                                </div>
                                <button id="btnChangeConfiguration" type="submit" class="btn btn-primary">Execute</button>
                            </form>
                            <hr>
                            <div id="ChangeConfigurationRequest">
                                <small class="form-text text-muted">Press "Execute" button...</small>
                            </div>
                        </div>
                    </div>
                    <div id="tab-remote-start-transaction" class="container tab-pane fade">
                        <div class="mt-3">
                            <small class="form-text text-muted">Remote Start Transaction:</small>
                            <hr>
                            <form onsubmit="RemoteStartTransaction()">
                                <div class="form-group row">
                                    <label for="RemoteStartTransaction-connectorId" class="col-sm-2 col-form-label">connectorId</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="RemoteStartTransaction-connectorId" placeholder="Integer" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="RemoteStartTransaction-idTag" class="col-sm-2 col-form-label">idTag</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="RemoteStartTransaction-idTag" placeholder="IdToken (String20)" required>
                                    </div>
                                </div>
                                <button id="btnRemoteStartTransaction" type="submit" class="btn btn-primary">Execute</button>
                            </form>
                            <hr>
                            <div id="RemoteStartTransactionRequest">
                                <small class="form-text text-muted">Press "Execute" button...</small>
                            </div>
                        </div>
                    </div>
                    <div id="tab-remote-stop-transaction" class="container tab-pane fade">
                        <div class="mt-3">
                            <small class="form-text text-muted">Remote Stop Transaction:</small>
                            <hr>
                            <form onsubmit="RemoteStopTransaction()">
                                <div class="form-group row">
                                    <label for="RemoteStopTransaction-transactionId" class="col-sm-2 col-form-label">transactionId</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="RemoteStopTransaction-transactionId" placeholder="Integer" required>
                                    </div>
                                </div>
                                <button id="btnRemoteStopTransaction" type="submit" class="btn btn-primary">Execute</button>
                            </form>
                            <hr>
                            <div id="RemoteStopTransactionRequest">
                                <small class="form-text text-muted">Press "Execute" button...</small>
                            </div>
                        </div>
                    </div>
                    <div id="tab-reserve-now" class="container tab-pane fade">
                        <div class="mt-3">
                            <small class="form-text text-muted">Reserve Now:</small>
                            <hr>
                            <form onsubmit="ReserveNow()">
                                <div class="form-group row">
                                    <label for="ReserveNow-connectorId" class="col-sm-2 col-form-label">connectorId</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="ReserveNow-connectorId" placeholder="Integer" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="ReserveNow-expiryDate" class="col-sm-2 col-form-label">expiryDate</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="ReserveNow-expiryDate" placeholder="DateTime" required>
                                        <small id="ReserveNow-expiryDate-Help" class="form-text text-muted">UTC date time + 15 minutes</small>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="ReserveNow-idTag" class="col-sm-2 col-form-label">idTag</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="ReserveNow-idTag" placeholder="IdToken (String20)" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="ReserveNow-parentIdTag" class="col-sm-2 col-form-label">parentIdTag</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="ReserveNow-parentIdTag" placeholder="IdToken (String20)">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="ReserveNow-reservationId" class="col-sm-2 col-form-label">reservationId</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="ReserveNow-reservationId" placeholder="Integer" required>
                                    </div>
                                </div>
                                <button id="btnReserveNow" type="submit" class="btn btn-primary">Execute</button>
                            </form>
                            <hr>
                            <div id="ReserveNowRequest">
                                <small class="form-text text-muted">Press "Execute" button...</small>
                            </div>
                        </div>
                    </div>
                    <div id="tab-cancel-reservation" class="container tab-pane fade">
                        <div class="mt-3">
                            <small class="form-text text-muted">Cancel Reservation:</small>
                            <hr>
                            <form onsubmit="CancelReservation()">
                                <div class="form-group row">
                                    <label for="CancelReservation-reservationId" class="col-sm-2 col-form-label">reservationId</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="CancelReservation-reservationId" placeholder="Integer" required>
                                    </div>
                                </div>
                                <button id="btnCancelReservation" type="submit" class="btn btn-primary">Execute</button>
                            </form>
                            <hr>
                            <div id="CancelReservationRequest">
                                <small class="form-text text-muted">Press "Execute" button...</small>
                            </div>
                        </div>
                    </div>
                    <div id="tab-reset" class="container tab-pane fade">
                        <div class="mt-3">
                            <small class="form-text text-muted">Reset:</small>
                            <hr>
                            <form onsubmit="Reset()">
                                <div class="form-group row">
                                    <label for="Reset-type" class="col-sm-2 col-form-label">Type</label>
                                    <div class="col-sm-10">
                                        <select id="Reset-type" class="custom-select">
                                            <option value="Soft" selected>Soft</option>
                                            <option value="Hard">Hard</option>
                                        </select>
                                    </div>
                                </div>
                                <button id="btnReset" type="submit" class="btn btn-primary">Execute</button>
                            </form>
                            <hr>
                            <div id="ResetRequest">
                                <small class="form-text text-muted">Press "Execute" button...</small>
                            </div>
                        </div>
                    </div>
                    <div id="tab-get-charge-point" class="container tab-pane fade">
                        <div class="mt-3">
                            <small class="form-text text-muted">Get Charge Point from DataBase (api.epcelectro.ru):</small>
                            <hr>
                            <form onsubmit="GetChargePoint()">
                                <div class="form-group row">
                                    <label for="Session" class="col-sm-2 col-form-label">Session</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="Session" placeholder="String40" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="ChargePointId" class="col-sm-2 col-form-label">Id</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="ChargePointId" placeholder="Id">
                                    </div>
                                </div>
                                <button id="btnGetChargePoint" type="submit" class="btn btn-primary">Execute</button>
                            </form>
                            <hr>
                            <div id="GetChargePointRequest">
                                <small class="form-text text-muted">Press "Execute" button...</small>
                            </div>
                        </div>
                    </div>
                    <div id="tab-settings" class="container tab-pane fade">
                        <div class="mt-3">
                            <form>
                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        <label for="apiURL">API</label>
                                        <input type="text" class="form-control" id="apiURL" aria-describedby="apiURLHelp" placeholder="Default: /api/v1" value="/api/v1" required>
                                        <small id="serverHelp" class="form-text text-muted">API URL</small>
                                    </div>
                                    <div class="form-group col-md-4">
                                        <label for="APIPassphrase">Passphrase</label>
                                        <input type="text" class="form-control" id="APIPassphrase" value="">
                                        <small id="APIPassphraseHelp" class="form-text text-muted">API Passphrase for POST requests</small>
                                    </div>

                                    <div class="form-group col-md-4">
                                        <label for="ChargePoint">Identity</label>
                                        <select id="ChargePoint" class="custom-select">
                                            <option value="EVB-P1844374" selected>EVB-P1844374</option>
                                            <option value="EVB-P18210114">EVB-P18210114</option>
                                            <option value="EVB-P18240308">EVB-P18240308</option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="footer">
    <div class="container">
        <hr>
        <p class="text-center small" >OCPP Central System Service</p>
    </div>
</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="/assets/vendor/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script>
    async function CheckResponse(json, status) {
        if (status === 400) {
            if (json.hasOwnProperty('error')) {
                window.location.replace(`/error/400?error=invalid_request&error_description=${encodeURIComponent(json["error"]["message"])}`);
            }
        } else if (status === 404) {
            if (json.hasOwnProperty('error')) {
                window.location.replace(window.location = `/error/404?error=not_found&error_description=${encodeURIComponent(json["error"]["message"])}`);
            }
        } else if (status === 500) {
            if (json.hasOwnProperty('error')) {
                window.location.replace(window.location = `/error/500?error=server_exception&error_description=${encodeURIComponent(json["error"]["message"])}`);
            }
        } else {
            if (json.hasOwnProperty('error')) {
                const ErrorCode = json["error"]["code"];
                window.location.replace(window.location = `/error/error?code=${ErrorCode}&error=invalid_request&error_description=${encodeURIComponent(json["error"]["message"])}`);
            }
        }
    }

    /**
     * @return {string}
     */
    async function AsyncFetch (url, body, method = "GET", headers = {}) {
        // await response of fetch call
        let response = await fetch(url, {
            method: method,
            headers: headers,
            body: body,
            mode: "cors",
            cache: "no-store"
        });

        const json = await response.json();

        if (response.ok) {
            return '<pre><code>' + JSON.stringify(json, undefined, 4) + '</code></pre>';
        }

        await CheckResponse(json, response.status);

        return undefined;
    }

    function empty(e) {
        switch (e) {
            case "":
            case 0:
            case "0":
            case false:
            case null:
            case undefined:
                return true;
            default:
                return false;
        }
    }

    function getFormattedDateTime(date) {
        const year = date.getFullYear();

        let month = (1 + date.getMonth()).toString();
        month = month.length > 1 ? month : '0' + month;

        let day = date.getDate().toString();
        day = day.length > 1 ? day : '0' + day;

        let hours = date.getUTCHours().toString();
        hours = hours.length > 1 ? hours : '0' + hours;

        let minutes = date.getMinutes().toString();
        minutes = minutes.length > 1 ? minutes : '0' + minutes;

        let seconds = date.getSeconds().toString();
        seconds = seconds.length > 1 ? seconds : '0' + seconds;

        return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;
    }

    $('.nav-tabs a[href="#tab-reserve-now"]').click(function(){
        $("input[id='ReserveNow-expiryDate']").val(getFormattedDateTime(new Date(Date.now() + 15 * 60 * 1000)));
        $(this).tab('show');
    });

    function ChargePointList() {
        const url = $("input[id='apiURL']").val();

        AsyncFetch(url + '/ChargePointList')
            .then(result => $("#ChargePointListRequest").html(result))
            .catch(reason => console.log(reason.message));
    }

    function GetConfiguration() {
        const url = $("input[id='apiURL']").val();
        const point = $("select[id='ChargePoint']").val();
        const key = $("input[id='GetConfigurationKey']").val();
        const Request = $("#GetConfigurationRequest");

        let route = '/ChargePoint/' + point + '/GetConfiguration';

        if (!empty(key))
            route = route + '?key=' + key;

        let execute = $("button[id='btnGetConfiguration']");
        execute.prop('disabled', true);

        AsyncFetch(url + route)
            .then(function(result) {
                Request.html(result);
                execute.prop('disabled', false);
            })
            .catch((e) => {
                Request.html(e.message);
                execute.prop('disabled', false);
            });
    }

    function ChangeConfiguration() {
        const url = $("input[id='apiURL']").val();
        const passphrase = $("input[id='APIPassphrase']").val();
        const point = $("select[id='ChargePoint']").val();
        const key = $("input[id='ChangeConfigurationKey']").val();
        const value = $("input[id='ChangeConfigurationValue']").val();
        const Request = $("#ChangeConfigurationRequest");

        const Basic = 'Basic ' + window.btoa('ocpp:' + passphrase);

        let route = '/ChargePoint/' + point + '/ChangeConfiguration';

        let body = {
            key: key,
            value: value
        };

        let execute = $("button[id='btnChangeConfiguration']");
        execute.prop('disabled', true);

        AsyncFetch(url + route, JSON.stringify(body), 'POST', {'Authorization': Basic, 'Content-Type': 'application/json'})
            .then(function(result) {
                Request.html(result);
                execute.prop('disabled', false);
            })
            .catch((e) => {
                Request.html(e.message);
                execute.prop('disabled', false);
            });
    }

    function RemoteStartTransaction() {
        const url = $("input[id='apiURL']").val();
        const passphrase = $("input[id='APIPassphrase']").val();
        const point = $("select[id='ChargePoint']").val();
        const Request = $("#RemoteStartTransactionRequest");

        const connectorId = $("input[id='RemoteStartTransaction-connectorId']").val();
        const idTag = $("input[id='RemoteStartTransaction-idTag']").val();

        const Basic = 'Basic ' + window.btoa('ocpp:' + passphrase);

        let route = '/ChargePoint/' + point + '/RemoteStartTransaction';

        let body = {
            connectorId: connectorId,
            idTag: idTag
        };

        let execute = $("button[id='btnRemoteStartTransaction']");
        execute.prop('disabled', true);

        AsyncFetch(url + route, JSON.stringify(body), 'POST', {'Authorization': Basic, 'Content-Type': 'application/json'})
            .then(function(result) {
                Request.html(result);
                execute.prop('disabled', false);
            })
            .catch((e) => {
                Request.html(e.message);
                execute.prop('disabled', false);
            });
    }

    function RemoteStopTransaction() {
        const url = $("input[id='apiURL']").val();
        const passphrase = $("input[id='APIPassphrase']").val();
        const point = $("select[id='ChargePoint']").val();
        const Request = $("#RemoteStopTransactionRequest");

        const transactionId = $("input[id='RemoteStopTransaction-transactionId']").val();

        const Basic = 'Basic ' + window.btoa('ocpp:' + passphrase);

        let route = '/ChargePoint/' + point + '/RemoteStopTransaction';

        let body = {
            transactionId: transactionId
        };

        let execute = $("button[id='btnRemoteStopTransaction']");
        execute.prop('disabled', true);

        AsyncFetch(url + route, JSON.stringify(body), 'POST', {'Authorization': Basic, 'Content-Type': 'application/json'})
            .then(function(result) {
                Request.html(result);
                execute.prop('disabled', false);
            })
            .catch((e) => {
                Request.html(e.message);
                execute.prop('disabled', false);
            });
    }

    function ReserveNow() {
        const url = $("input[id='apiURL']").val();
        const passphrase = $("input[id='APIPassphrase']").val();
        const point = $("select[id='ChargePoint']").val();
        const Request = $("#ReserveNowRequest");

        const connectorId = $("input[id='ReserveNow-connectorId']").val();
        const expiryDate = $("input[id='ReserveNow-expiryDate']").val();
        const idTag = $("input[id='ReserveNow-idTag']").val();
        const parentIdTag = $("input[id='ReserveNow-parentIdTag']").val();
        const reservationId = $("input[id='ReserveNow-reservationId']").val();

        const Basic = 'Basic ' + window.btoa('ocpp:' + passphrase);

        let route = '/ChargePoint/' + point + '/ReserveNow';

        let body = {
            connectorId: connectorId,
            expiryDate: expiryDate,
            idTag: idTag,
            parentIdTag: parentIdTag,
            reservationId: reservationId
        };

        let execute = $("button[id='btnReserveNow']");
        execute.prop('disabled', true);

        AsyncFetch(url + route, JSON.stringify(body), 'POST', {'Authorization': Basic, 'Content-Type': 'application/json'})
            .then(function(result) {
                Request.html(result);
                execute.prop('disabled', false);
            })
            .catch((e) => {
                Request.html(e.message);
                execute.prop('disabled', false);
            });
    }

    function CancelReservation() {
        const url = $("input[id='apiURL']").val();
        const passphrase = $("input[id='APIPassphrase']").val();
        const point = $("select[id='ChargePoint']").val();
        const Request = $("#CancelReservationRequest");

        const reservationId = $("input[id='CancelReservation-reservationId']").val();

        const Basic = 'Basic ' + window.btoa('ocpp:' + passphrase);

        let route = '/ChargePoint/' + point + '/CancelReservation';

        let body = {
            reservationId: reservationId
        };

        let execute = $("button[id='btnCancelReservation']");
        execute.prop('disabled', true);

        AsyncFetch(url + route, JSON.stringify(body), 'POST', {'Authorization': Basic, 'Content-Type': 'application/json'})
            .then(function(result) {
                Request.html(result);
                execute.prop('disabled', false);
            })
            .catch((e) => {
                Request.html(e.message);
                execute.prop('disabled', false);
            });
    }

    function Reset() {
        const url = $("input[id='apiURL']").val();
        const passphrase = $("input[id='APIPassphrase']").val();
        const point = $("select[id='ChargePoint']").val();
        const Request = $("#ResetRequest");

        const type = $("select[id='Reset-type']").val();

        const Basic = 'Basic ' + window.btoa('ocpp:' + passphrase);

        let route = '/ChargePoint/' + point + '/Reset';

        let body = {
            type: type
        };

        let execute = $("button[id='btnReset']");
        execute.prop('disabled', true);

        AsyncFetch(url + route, JSON.stringify(body), 'POST', {'Authorization': Basic, 'Content-Type': 'application/json'})
            .then((result) => {
                Request.html(result);
                execute.prop('disabled', false);
            })
            .catch((e) => {
                Request.html(e.message);
                execute.prop('disabled', false);
            });
    }

    function GetChargePoint() {
        const url = 'https://api.plugme.ru/api/v1';
        const Session = $("input[id='Session']").val();
        const id = $("input[id='ChargePointId']").val();
        const Request = $("#GetChargePointRequest");

        let route = '/charge_point';
        let body = {};

        if (!empty(id)) {
            route += '/get';
            body = {id: id};
        } else {
            route += '/list';
        }

        let execute = $("button[id='btnGetChargePoint']");
        execute.prop('disabled', true);

        AsyncFetch(url + route, JSON.stringify(body), 'POST', {'Authorization': 'Session ' + Session, 'Content-Type': 'application/json'})
            .then(function(result) {
                Request.html(result);
                execute.prop('disabled', false);
            })
            .catch((e) => {
                Request.html(e.message);
                execute.prop('disabled', false);
            });
    }

    $(document).ready(function(){
        window.location.href = window.location.origin + window.location.pathname + '?#tab-charge-point-lis';
        ChargePointList();
    });
</script>

</body>
</html>
