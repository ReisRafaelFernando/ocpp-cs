{"version":3,"sources":["routes/Admin/Title.js","routes/Admin/Console/Console.js"],"names":["Title","props","title","className","to","url","icon","TextArea","Input","TabPane","Tabs","Console","pendingStart","setState","pending","pendingEnd","m","key","prefix","intl","formatMessage","id","submit","context","api","q","state","query","JSON","parse","params","result","this","direction","style","width","value","onChange","e","target","placeholder","onPressEnter","rows","loading","onClick","type","spinning","defaultActiveKey","tab","expandLevel","data","React","Component","contextType","Context","injectIntl"],"mappings":"2GAAA,8EAIe,SAASA,EAAMC,GAC5B,OACE,qCACE,cAAC,IAAM,UACL,gCAAQA,EAAMC,UAEhB,oBAAIC,UAAU,gBAAe,SAC3B,cAAC,IAAI,CAACC,GAAIH,EAAMI,IAAKF,UAAU,eAAc,SAC3C,eAAC,IAAK,WACHF,EAAMK,KACNL,EAAMC,eAMnB,C,uNCZQK,EAAaC,IAAbD,SACAE,EAAYC,IAAZD,QAEFE,EAAO,kDAEX,WAAYV,GAAQ,IAAD,EAOf,OAPe,qBACjB,cAAMA,IAQRW,aAAe,WACb,EAAKC,SAAS,CAAEC,SAAS,GAC3B,EAAE,EACFC,WAAa,WACX,EAAKF,SAAS,CAAEC,SAAS,GAC3B,EAAE,EACFE,EAAI,SAACC,GAAoC,IAA/BC,EAAM,uDAAG,iBACTC,EAAS,EAAKlB,MAAdkB,KACR,OAAOA,EAAKC,cAAc,CAAEC,GAAIH,EAASD,GAC3C,EAAE,EACFK,OAAM,gCAAG,8FACa,OAApB,EAAKV,eAAe,SACD,EAAKW,QAAQC,IAAIC,EAClC,EAAKC,MAAMC,MACXC,KAAKC,MAAM,EAAKH,MAAMI,QAAU,OAChC,KAAD,EAHGC,EAAM,OAIV,EAAKhB,aACL,EAAKF,SAAS,CAAEkB,WAAU,2CAxB1B,EAAKL,MAAQ,CACXZ,SAAS,EACTa,MAAO,GACPG,OAAQ,GACRC,OAAQ,MACR,CACJ,CAqEC,OArEA,mCAoBD,WAAU,IAAD,OACP,OACE,qCACE,cAAC,IAAK,CACJ7B,MAAO8B,KAAKhB,EAAE,WACdX,IAAI,iBACJC,KAAM,cAAC,IAAc,MAEvB,eAAC,IAAK,CAAC2B,UAAU,WAAWC,MAAO,CAAEC,MAAO,QAAS,UACnD,cAAC,IAAI,CAACD,MAAO,CAAEC,MAAO,QAAUhC,UAAU,UAAS,SACjD,eAAC,IAAK,CAAC8B,UAAU,WAAWC,MAAO,CAAEC,MAAO,QAAS,UACnD,cAAC,IAAK,CACJC,MAAOJ,KAAKN,MAAMC,MAClBU,SAAU,SAACC,GAAC,OAAK,EAAKzB,SAAS,CAAEc,MAAOW,EAAEC,OAAOH,OAAQ,EACzDI,YAAaR,KAAKhB,EAAE,SACpByB,aAAcT,KAAKV,SAErB,cAACf,EAAQ,CACPmC,KAAM,EACNN,MAAOJ,KAAKN,MAAMI,OAClBO,SAAU,SAACC,GAAC,OAAK,EAAKzB,SAAS,CAAEiB,OAAQQ,EAAEC,OAAOH,OAAQ,EAC1DI,YAAaR,KAAKhB,EAAE,YAEtB,cAAC,IAAM,CACL2B,QAASX,KAAKN,MAAMZ,QACpB8B,QAASZ,KAAKV,OACduB,KAAK,UACL1C,UAAU,kBAAiB,SAE1B6B,KAAKhB,EAAE,iBAKd,cAAC,IAAI,CAACkB,MAAO,CAAEC,MAAO,QAAUhC,UAAU,YAAW,SACnD,cAAC,IAAI,CAAC2C,SAAUd,KAAKN,MAAMZ,QAAQ,SACjC,eAAC,IAAI,CAACiC,iBAAiB,SAAQ,UAC7B,cAACtC,EAAO,CAACuC,IAAKhB,KAAKhB,EAAE,UAAU,SAC7B,cAAC,IAAe,CAACiC,YAAa,EAAGC,KAAMlB,KAAKN,MAAMK,UADhB,UAGpC,cAACtB,EAAO,CAACuC,IAAKhB,KAAKhB,EAAE,SAAS,SAC5B,cAAC,IAAc,CAACkC,KAAMlB,KAAKN,MAAMK,UADA,qBASjD,KAAC,EA/EU,CAASoB,IAAMC,WAAtBzC,EACG0C,YAAcC,IAgFRC,sBAAW5C,E","file":"static/js/38.0b6f5a88.chunk.js","sourcesContent":["import { Space } from \"antd\";\nimport React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Link } from \"react-router-dom\";\nexport default function Title(props) {\n  return (\n    <>\n      <Helmet>\n        <title>{props.title}</title>\n      </Helmet>\n      <h2 className=\"title gx-mb-4\">\n        <Link to={props.url} className=\"gx-text-dark\">\n          <Space>\n            {props.icon}\n            {props.title}\n          </Space>\n        </Link>\n      </h2>\n    </>\n  );\n}\n","import React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { Tabs, Card, Input, Space, Button, Spin } from \"antd\";\nimport { ObjectInspector, TableInspector } from \"react-inspector\";\nimport Context from \"../../../Context\";\nimport Title from \"../Title\";\nimport { ExportOutlined } from \"@ant-design/icons\";\n\nconst { TextArea } = Input;\nconst { TabPane } = Tabs;\n\nclass Console extends React.Component {\n  static contextType = Context;\n  constructor(props) {\n    super(props);\n    this.state = {\n      pending: false,\n      query: \"\",\n      params: \"\",\n      result: null,\n    };\n  }\n  pendingStart = () => {\n    this.setState({ pending: true });\n  };\n  pendingEnd = () => {\n    this.setState({ pending: false });\n  };\n  m = (key, prefix = \"admin.console.\") => {\n    const { intl } = this.props;\n    return intl.formatMessage({ id: prefix + key });\n  };\n  submit = async () => {\n    this.pendingStart();\n    let result = await this.context.api.q(\n      this.state.query,\n      JSON.parse(this.state.params || \"{}\")\n    );\n    this.pendingEnd();\n    this.setState({ result });\n  };\n  render() {\n    return (\n      <>\n        <Title\n          title={this.m(\"console\")}\n          url=\"/admin/console\"\n          icon={<ExportOutlined />}\n        />\n        <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n          <Card style={{ width: \"100%\" }} className=\"gx-mb-0\">\n            <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n              <Input\n                value={this.state.query}\n                onChange={(e) => this.setState({ query: e.target.value })}\n                placeholder={this.m(\"query\")}\n                onPressEnter={this.submit}\n              />\n              <TextArea\n                rows={3}\n                value={this.state.params}\n                onChange={(e) => this.setState({ params: e.target.value })}\n                placeholder={this.m(\"params\")}\n              />\n              <Button\n                loading={this.state.pending}\n                onClick={this.submit}\n                type=\"primary\"\n                className=\"gx-mb-0 gx-mt-2\"\n              >\n                {this.m(\"submit\")}\n              </Button>\n            </Space>\n          </Card>\n\n          <Card style={{ width: \"100%\" }} className=\"inspector\">\n            <Spin spinning={this.state.pending}>\n              <Tabs defaultActiveKey=\"object\">\n                <TabPane tab={this.m(\"object\")} key=\"object\">\n                  <ObjectInspector expandLevel={2} data={this.state.result} />\n                </TabPane>\n                <TabPane tab={this.m(\"table\")} key=\"table\">\n                  <TableInspector data={this.state.result} />\n                </TabPane>\n              </Tabs>\n            </Spin>\n          </Card>\n        </Space>\n      </>\n    );\n  }\n}\nexport default injectIntl(Console);\n"],"sourceRoot":""}