{"version":3,"sources":["util/key.js","routes/Admin/Title.js","util/paramsHasChanged.js","util/Searchbox.js","../node_modules/@ant-design/icons-svg/es/asn/CopyOutlined.js","../node_modules/@ant-design/icons/es/icons/CopyOutlined.js","util/Scrollbars.js","util/Layout4.js","../node_modules/antd/es/select/index.js","../node_modules/@ant-design/icons-svg/es/asn/MenuOutlined.js","../node_modules/@ant-design/icons/es/icons/MenuOutlined.js","routes/Ocpp/OcppCommands/OcppCommandsForm.js","routes/Ocpp/OcppCommands/OcppCommands.js","util/regexEscape.js"],"names":["key","Date","toString","min","max","Math","ceil","floor","random","Title","props","title","className","to","url","icon","paramsHasChanged","prevProps","prevParams","match","params","nowParams","param1","param2","param3","searchTimeout","Searchbox","searchHandle","searchValue","setState","state","searchDelay","onSearch","searchPending","window","clearTimeout","setTimeout","searchOnChange","e","target","value","defaultValue","hasOwnProperty","this","intl","placeholder","formatMessage","id","Search","onChange","loading","React","Component","injectIntl","CopyOutlined","ref","AntdIcon","_objectSpread","CopyOutlinedSvg","displayName","style","children","autoHide","autoHideTimeout","autoHideDuration","autoHeightMin","autoHeightMax","thumbMinSize","universal","Header","Layout","Content","Layout4","childTopLeft","chilfTopRight","childLeft","childRight","spinning","pending","width","searchPlaceholder","Scrollbars","IntlMessages","__rest","s","t","p","Object","prototype","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","SECRET_COMBOBOX_MODE_DO_NOT_USE","InternalSelect","_a","_classNames2","mergedNotFound","customizePrefixCls","prefixCls","_a$bordered","bordered","getPopupContainer","dropdownClassName","popupClassName","_a$listHeight","listHeight","placement","_a$listItemHeight","listItemHeight","customizeSize","size","customDisabled","disabled","notFoundContent","customStatus","status","showArrow","_React$useContext","ConfigContext","getContextPopupContainer","getPrefixCls","renderEmpty","direction","virtual","dropdownMatchSelectWidth","SizeContext","rootPrefixCls","_useCompactItemContex","useCompactItemContext","compactSize","compactItemClassnames","mode","m","isMultiple","mergedShowArrow","undefined","_useContext","useContext","FormItemInputContext","contextStatus","hasFeedback","isFormItemInput","feedbackIcon","mergedStatus","getMergedStatus","defaultRenderEmpty","_getIcons","getIcons","_extends","multiple","suffixIcon","itemIcon","removeIcon","clearIcon","selectProps","omit","rcSelectRtlDropdownClassName","classNames","_defineProperty","concat","mergedSize","DisabledContext","mergedDisabled","mergedClassName","getStatusClassNames","RcSelect","transitionName","getTransitionName","getTransitionDirection","inputIcon","menuItemSelectedIcon","Select","Option","OptGroup","MenuOutlined","MenuOutlinedSvg","OcppCommandsForm","mc","prefix","command","station","context","ocpp","commands","form","renderInput","item","type","enum","map","v","format","layout","name","onFinish","scrollToFirstError","properties","required","entries","Item","rules","includes","label","extra","renderItems","htmlType","contextType","Context","OcppCommands","pendingStart","onPendingStart","pendingEnd","onPendingEnd","setParams","identity","commandResult","load","q","stations","getArray","tree","k","treeKey","getStation","find","Identity","onTreeSelect","selectedKeys","Array","isArray","history","push","onTreeSearch","treeSearch","onFormFininsh","data","locale","treeData","filter","reg","RegExp","replace","regexEscape","FallOutlined","Address","onClick","onAddStart","defaultExpandParent","defaultSelectedKeys","defaultExpandedKeys","onSelect","navigator","clipboard","writeText","JSON","stringify","message","success","withRouter"],"mappings":"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","file":"static/js/33.386ac3e1.chunk.js","sourcesContent":["function getRandomIntInclusive(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport default function key() {\n  return `f${(+new Date()).toString(16)}${getRandomIntInclusive(1000, 9999)}`;\n}\n","import { Space } from \"antd\";\nimport React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Link } from \"react-router-dom\";\nexport default function Title(props) {\n  return (\n    <>\n      <Helmet>\n        <title>{props.title}</title>\n      </Helmet>\n      <h2 className=\"title gx-mb-4\">\n        <Link to={props.url} className=\"gx-text-dark\">\n          <Space>\n            {props.icon}\n            {props.title}\n          </Space>\n        </Link>\n      </h2>\n    </>\n  );\n}\n","export default function paramsHasChanged(prevProps, props) {\n  const prevParams = prevProps.match.params || {};\n  const nowParams = props.match.params || {};\n\n  if (\n    prevParams.param1 !== nowParams.param1 ||\n    prevParams.param2 !== nowParams.param2 ||\n    prevParams.param3 !== nowParams.param3\n  ) {\n    return true;\n  }\n\n  return false;\n}\n","import React from \"react\";\nimport { Input } from \"antd\";\nimport { injectIntl } from \"react-intl\";\nlet searchTimeout = null;\n\nclass Searchbox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: props.defaultValue || \"\",\n      searchPending: false,\n      searchDelay: props.hasOwnProperty(\"searchDelay\")\n        ? props.searchDelay\n        : 1000,\n    };\n  }\n  searchHandle = (searchValue) => {\n    this.setState({ searchValue });\n    if (!this.state.searchDelay) {\n      if (this.props.onSearch) {\n        this.props.onSearch(searchValue);\n        return;\n      }\n    }\n    this.setState({ searchPending: true });\n    window.clearTimeout(searchTimeout);\n    searchTimeout = window.setTimeout(() => {\n      this.setState({\n        searchPending: false,\n      });\n      if (this.props.onSearch) {\n        this.props.onSearch(searchValue);\n      }\n    }, this.state.searchDelay);\n  };\n\n  searchOnChange = (e) => {\n    this.searchHandle(e.target.value);\n  };\n  render() {\n    const { intl, className } = this.props;\n    const { searchValue, searchPending } = this.state;\n    let placeholder =\n      this.props.placeholder ||\n      intl.formatMessage({ id: \"search.placeholder\" });\n    return (\n      <Input.Search\n        placeholder={placeholder}\n        className={className}\n        value={searchValue}\n        onChange={this.searchOnChange}\n        onSearch={() => this.searchHandle(searchValue)}\n        loading={searchPending}\n      />\n    );\n  }\n}\nexport default injectIntl(Searchbox);\n","// This icon file is generated automatically.\nvar CopyOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\" } }] }, \"name\": \"copy\", \"theme\": \"outlined\" };\nexport default CopyOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CopyOutlinedSvg from \"@ant-design/icons-svg/es/asn/CopyOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CopyOutlined = function CopyOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CopyOutlinedSvg\n  }));\n};\n\nCopyOutlined.displayName = 'CopyOutlined';\nexport default /*#__PURE__*/React.forwardRef(CopyOutlined);","import React from \"react\";\nimport { Scrollbars } from \"react-custom-scrollbars\";\nexport default ({ id, style, children, className }) => (\n  <Scrollbars\n    id={id}\n    className={className}\n    style={style}\n    autoHide\n    autoHideTimeout={1000}\n    autoHideDuration={200}\n    // autoHeight\n    autoHeightMin={0}\n    autoHeightMax={200}\n    thumbMinSize={30}\n    universal={true}\n  >\n    {children}\n  </Scrollbars>\n);\n","import React from \"react\";\nimport IntlMessages from \"./IntlMessages\";\nimport Scrollbars from \"./Scrollbars\";\nimport Searchbox from \"./Searchbox\";\nimport { Layout, Spin } from \"antd\";\nimport { injectIntl } from \"react-intl\";\nconst { Header, Content } = Layout;\n\nclass Layout4 extends React.Component {\n  render() {\n    const [\n      childTopLeft,\n      chilfTopRight,\n      childLeft,\n      childRight,\n    ] = this.props.children;\n\n    return (\n      <>\n        <Spin spinning={this.props.pending ? true : false}>\n          <div className=\"isomorphicNoteComponent\">\n            <div style={{ width: \"340px\" }} className=\"isoNoteListSidebar\">\n              <div className=\"isoNoteListWrapper\">\n                {this.props.onSearch && (\n                  <Searchbox\n                    placeholder={this.props.searchPlaceholder}\n                    className=\"isoSearchNotes\"\n                    onSearch={this.props.onSearch}\n                    searchDelay={this.props.searchDelay}\n                  />\n                )}\n\n                <div className=\"isoNoteList\">\n                  {childLeft ? (\n                    <Scrollbars>\n                      <div className=\"isoNoteListHolder\">{childLeft}</div>\n                    </Scrollbars>\n                  ) : (\n                    <span className=\"isoNoResultMsg\">\n                      <IntlMessages id=\"nothing.found\" />\n                    </span>\n                  )}\n                </div>\n              </div>\n            </div>\n            <Layout className=\"isoNotepadWrapper\">\n              <Header className=\"isoHeader\">\n                {childTopLeft}\n                {chilfTopRight}\n              </Header>\n              <Content className=\"isoNoteEditingArea\">\n                {childRight && (\n                  <Scrollbars>\n                    <div className=\"isoNoteContentHolder\">{childRight}</div>\n                  </Scrollbars>\n                )}\n              </Content>\n            </Layout>\n          </div>\n        </Spin>\n      </>\n    );\n  }\n}\n\nexport default injectIntl(Layout4);\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// TODO: 4.0 - codemod should help to change `filterOption` to support node props.\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport RcSelect, { OptGroup, Option } from 'rc-select';\nimport omit from \"rc-util/es/omit\";\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { ConfigContext } from '../config-provider';\nimport defaultRenderEmpty from '../config-provider/defaultRenderEmpty';\nimport DisabledContext from '../config-provider/DisabledContext';\nimport SizeContext from '../config-provider/SizeContext';\nimport { FormItemInputContext } from '../form/context';\nimport { getTransitionDirection, getTransitionName } from '../_util/motion';\nimport { getMergedStatus, getStatusClassNames } from '../_util/statusUtils';\nimport getIcons from './utils/iconUtil';\nimport warning from '../_util/warning';\nimport { useCompactItemContext } from '../space/Compact';\nvar SECRET_COMBOBOX_MODE_DO_NOT_USE = 'SECRET_COMBOBOX_MODE_DO_NOT_USE';\nvar InternalSelect = function InternalSelect(_a, ref) {\n  var _classNames2;\n  var customizePrefixCls = _a.prefixCls,\n    _a$bordered = _a.bordered,\n    bordered = _a$bordered === void 0 ? true : _a$bordered,\n    className = _a.className,\n    getPopupContainer = _a.getPopupContainer,\n    dropdownClassName = _a.dropdownClassName,\n    popupClassName = _a.popupClassName,\n    _a$listHeight = _a.listHeight,\n    listHeight = _a$listHeight === void 0 ? 256 : _a$listHeight,\n    placement = _a.placement,\n    _a$listItemHeight = _a.listItemHeight,\n    listItemHeight = _a$listItemHeight === void 0 ? 24 : _a$listItemHeight,\n    customizeSize = _a.size,\n    customDisabled = _a.disabled,\n    notFoundContent = _a.notFoundContent,\n    customStatus = _a.status,\n    showArrow = _a.showArrow,\n    props = __rest(_a, [\"prefixCls\", \"bordered\", \"className\", \"getPopupContainer\", \"dropdownClassName\", \"popupClassName\", \"listHeight\", \"placement\", \"listItemHeight\", \"size\", \"disabled\", \"notFoundContent\", \"status\", \"showArrow\"]);\n  var _React$useContext = React.useContext(ConfigContext),\n    getContextPopupContainer = _React$useContext.getPopupContainer,\n    getPrefixCls = _React$useContext.getPrefixCls,\n    renderEmpty = _React$useContext.renderEmpty,\n    direction = _React$useContext.direction,\n    virtual = _React$useContext.virtual,\n    dropdownMatchSelectWidth = _React$useContext.dropdownMatchSelectWidth;\n  var size = React.useContext(SizeContext);\n  var prefixCls = getPrefixCls('select', customizePrefixCls);\n  var rootPrefixCls = getPrefixCls();\n  var _useCompactItemContex = useCompactItemContext(prefixCls, direction),\n    compactSize = _useCompactItemContex.compactSize,\n    compactItemClassnames = _useCompactItemContex.compactItemClassnames;\n  var mode = React.useMemo(function () {\n    var m = props.mode;\n    if (m === 'combobox') {\n      return undefined;\n    }\n    if (m === SECRET_COMBOBOX_MODE_DO_NOT_USE) {\n      return 'combobox';\n    }\n    return m;\n  }, [props.mode]);\n  var isMultiple = mode === 'multiple' || mode === 'tags';\n  var mergedShowArrow = showArrow !== undefined ? showArrow : props.loading || !(isMultiple || mode === 'combobox');\n  // =================== Warning =====================\n  process.env.NODE_ENV !== \"production\" ? warning(!dropdownClassName, 'Select', '`dropdownClassName` is deprecated which will be removed in next major version. Please use `popupClassName` instead.') : void 0;\n  // ===================== Form Status =====================\n  var _useContext = useContext(FormItemInputContext),\n    contextStatus = _useContext.status,\n    hasFeedback = _useContext.hasFeedback,\n    isFormItemInput = _useContext.isFormItemInput,\n    feedbackIcon = _useContext.feedbackIcon;\n  var mergedStatus = getMergedStatus(contextStatus, customStatus);\n  // ===================== Empty =====================\n  var mergedNotFound;\n  if (notFoundContent !== undefined) {\n    mergedNotFound = notFoundContent;\n  } else if (mode === 'combobox') {\n    mergedNotFound = null;\n  } else {\n    mergedNotFound = (renderEmpty || defaultRenderEmpty)('Select');\n  }\n  // ===================== Icons =====================\n  var _getIcons = getIcons(_extends(_extends({}, props), {\n      multiple: isMultiple,\n      hasFeedback: hasFeedback,\n      feedbackIcon: feedbackIcon,\n      showArrow: mergedShowArrow,\n      prefixCls: prefixCls\n    })),\n    suffixIcon = _getIcons.suffixIcon,\n    itemIcon = _getIcons.itemIcon,\n    removeIcon = _getIcons.removeIcon,\n    clearIcon = _getIcons.clearIcon;\n  var selectProps = omit(props, ['suffixIcon', 'itemIcon']);\n  var rcSelectRtlDropdownClassName = classNames(popupClassName || dropdownClassName, _defineProperty({}, \"\".concat(prefixCls, \"-dropdown-\").concat(direction), direction === 'rtl'));\n  var mergedSize = compactSize || customizeSize || size;\n  // ===================== Disabled =====================\n  var disabled = React.useContext(DisabledContext);\n  var mergedDisabled = customDisabled !== null && customDisabled !== void 0 ? customDisabled : disabled;\n  var mergedClassName = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-lg\"), mergedSize === 'large'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-sm\"), mergedSize === 'small'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-borderless\"), !bordered), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-in-form-item\"), isFormItemInput), _classNames2), getStatusClassNames(prefixCls, mergedStatus, hasFeedback), compactItemClassnames, className);\n  // ===================== Placement =====================\n  var getPlacement = function getPlacement() {\n    if (placement !== undefined) {\n      return placement;\n    }\n    return direction === 'rtl' ? 'bottomRight' : 'bottomLeft';\n  };\n  return /*#__PURE__*/React.createElement(RcSelect, _extends({\n    ref: ref,\n    virtual: virtual,\n    dropdownMatchSelectWidth: dropdownMatchSelectWidth\n  }, selectProps, {\n    transitionName: getTransitionName(rootPrefixCls, getTransitionDirection(placement), props.transitionName),\n    listHeight: listHeight,\n    listItemHeight: listItemHeight,\n    mode: mode,\n    prefixCls: prefixCls,\n    placement: getPlacement(),\n    direction: direction,\n    inputIcon: suffixIcon,\n    menuItemSelectedIcon: itemIcon,\n    removeIcon: removeIcon,\n    clearIcon: clearIcon,\n    notFoundContent: mergedNotFound,\n    className: mergedClassName,\n    getPopupContainer: getPopupContainer || getContextPopupContainer,\n    dropdownClassName: rcSelectRtlDropdownClassName,\n    showArrow: hasFeedback || showArrow,\n    disabled: mergedDisabled\n  }));\n};\nvar Select = /*#__PURE__*/React.forwardRef(InternalSelect);\nSelect.SECRET_COMBOBOX_MODE_DO_NOT_USE = SECRET_COMBOBOX_MODE_DO_NOT_USE;\nSelect.Option = Option;\nSelect.OptGroup = OptGroup;\nexport default Select;","// This icon file is generated automatically.\nvar MenuOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"menu\", \"theme\": \"outlined\" };\nexport default MenuOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MenuOutlinedSvg from \"@ant-design/icons-svg/es/asn/MenuOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MenuOutlined = function MenuOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: MenuOutlinedSvg\n  }));\n};\n\nMenuOutlined.displayName = 'MenuOutlined';\nexport default /*#__PURE__*/React.forwardRef(MenuOutlined);","import React from \"react\";\nimport { Button, Empty, Form, Input, Select } from \"antd\";\nimport { injectIntl } from \"react-intl\";\nimport Context from \"../../../Context\";\n\nconst { Option } = Select;\n\nclass OcppCommandsForm extends React.Component {\n  static contextType = Context;\n\n  mc = (key, prefix) => {\n    return this.props.m(this.props.command + \".\" + key, prefix);\n  };\n\n  m = (key, prefix) => {\n    return this.props.m(key, prefix);\n  };\n\n  render() {\n    if (!this.props.station || !this.props.command) return <Empty />;\n\n    const command = this.context.ocpp.commands[this.props.command];\n    const form = command?.form;\n\n    if (!form) return <Empty />;\n\n    const renderItems = (form) => {\n      const { properties, required } = form;\n      if (Object.entries(properties).length === 0)\n        return (\n          <div className=\"gx-text-grey gx-font-weight-normal gx-mb-3\">\n            {this.m(\"noform\")}\n          </div>\n        );\n      return Object.entries(properties).map(([key, item]) => {\n        return (\n          <Form.Item\n            key={key}\n            rules={[{ required: required?.includes(key) }]}\n            label={this.mc(key)}\n            name={key}\n            extra={\n              <div className=\"gx-text-grey gx-font-weight-light gx-text-small\">\n                <span className=\"gx-font-weight-normal gx-mr-2\">\n                  {this.m(\"type.\" + item.type)}\n                </span>\n                {this.mc(key + \".description\")}\n              </div>\n            }\n          >\n            {renderInput(item)}\n          </Form.Item>\n        );\n      });\n    };\n\n    const renderInput = (item) => {\n      switch (item.type) {\n        case \"string\":\n          if (item.enum) {\n            return (\n              <Select>\n                {item.enum.map((v) => (\n                  <Option key={v} value={v}>\n                    {v}\n                  </Option>\n                ))}\n              </Select>\n            );\n          }\n          if (item.format === \"date-time\") {\n            return <Input />;\n          }\n          return <Input />;\n        case \"array\":\n          return <Input />;\n        case \"object\":\n          return <Input />;\n        case \"integer\":\n          return <Input type={\"number\"} />;\n        case \"number\":\n          return <Input type={\"number\"} />;\n        default:\n          return null;\n      }\n    };\n\n    return (\n      <>\n        <Form\n          layout=\"vertical\"\n          name=\"command\"\n          onFinish={this.props.onFinish}\n          key={this.props.command}\n          scrollToFirstError\n        >\n          {renderItems(form)}\n          <Button type=\"primary\" htmlType=\"submit\">\n            {this.m(\"submit\", \"\")}\n          </Button>\n        </Form>\n      </>\n    );\n  }\n}\nexport default injectIntl(OcppCommandsForm);\n","import React from \"react\";\nimport key from \"../../../util/key\";\nimport { injectIntl } from \"react-intl\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { Tree, Space, message, Button } from \"antd\";\nimport Layout4 from \"../../../util/Layout4\";\nimport regexEscape from \"../../../util/regexEscape\";\nimport Context from \"../../../Context\";\nimport paramsHasChanged from \"../../../util/paramsHasChanged\";\nimport { FallOutlined, MenuOutlined, CopyOutlined } from \"@ant-design/icons\";\nimport Title from \"../../Admin/Title\";\nimport OcppCommandsForm from \"./OcppCommandsForm\";\n\nclass OcppCommands extends React.Component {\n  static contextType = Context;\n  constructor(props) {\n    super(props);\n    this.state = {\n      treeSearch: \"\",\n      treeKey: key(),\n      tree: [],\n      stations: [],\n      identity: null,\n      command: null,\n      commandResult: null,\n    };\n  }\n  pendingStart = () => {\n    if (this.props.onPendingStart) {\n      this.props.onPendingStart();\n      return;\n    }\n    this.setState({ pending: true });\n  };\n  pendingEnd = () => {\n    if (this.props.onPendingEnd) {\n      this.props.onPendingEnd();\n      return;\n    }\n    this.setState({ pending: false });\n  };\n  componentDidMount() {\n    this.setParams();\n    this.load();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (paramsHasChanged(prevProps, this.props)) {\n      this.setParams();\n    }\n\n    if (prevProps.intl.locale !== this.props.intl.locale) {\n      this.load();\n    }\n  }\n  setParams = () => {\n    const { param1: identity, param2: command } = this.props.match.params;\n    this.setState({\n      identity,\n      command,\n      commandResult: null,\n    });\n  };\n\n  load = async () => {\n    this.setState({ pending: true });\n    let stations = this.context.ocpp.getArray(\n      await this.context.ocpp.q(\"/ChargePointList\", {}),\n      \"ChargePointList\",\n      \"Identity\"\n    );\n\n    let tree = Object.entries(this.context.ocpp.commands).map(([k]) => {\n      return { key: k, title: this.m(k) };\n    });\n\n    this.setState({ treeKey: key(), tree, stations, pending: false });\n  };\n\n  getStation = (identity) => {\n    return this.state.stations.find((station) => station.Identity === identity);\n  };\n\n  onTreeSelect = (selectedKeys) => {\n    if (Array.isArray(selectedKeys)) {\n      if (selectedKeys[0]) {\n        this.props.history.push(\n          `/ocpp/command/${this.state.identity}/${selectedKeys[0]}/`\n        );\n      }\n    }\n  };\n  onTreeSearch = (value) => {\n    this.setState({ treeSearch: value });\n  };\n\n  onFormFininsh = async (data) => {\n    const { command, identity } = this.state;\n    this.pendingStart();\n    let commandResult = await this.context.ocpp.q(\n      `/ChargePoint/${identity}/${command}`,\n      data\n    );\n    this.setState({ commandResult });\n    this.pendingEnd();\n  };\n\n  m = (key, prefix = \"ocpp.commands.\") => {\n    const { intl } = this.props;\n    return intl.formatMessage({ id: prefix + key });\n  };\n\n  render() {\n    const {\n      pending,\n      treeKey,\n      identity,\n      command,\n      commandResult,\n      tree,\n      treeSearch,\n    } = this.state;\n    const station = this.getStation(identity);\n\n    let treeData = !treeSearch\n      ? tree\n      : tree.filter((item) => {\n          let reg = new RegExp(regexEscape(treeSearch), \"gi\");\n          return (item.title.toString().match(reg) || []).length > 0;\n        });\n\n    return (\n      <>\n        <Title\n          title={this.m(\"commands\")}\n          url=\"/ocpp/command\"\n          icon={<FallOutlined />}\n        />\n        <Layout4 pending={pending} onSearch={this.onTreeSearch} searchDelay={0}>\n          <div>\n            {station ? (\n              <Space>\n                <Link to=\"/ocpp\">\n                  <h3 className=\"gx-mb-0\">{station.Identity}</h3>\n                </Link>\n                <div className=\"gx-text-grey\">{station.Address}</div>\n              </Space>\n            ) : (\n              <>{!pending && <Link to=\"/ocpp\">{this.m(\"pick\")}</Link>}</>\n            )}\n          </div>\n          <div className=\"isoNoteBtns\">\n            <Space>\n              <Link to=\"/ocpp\">\n                <Button\n                  onClick={this.onAddStart}\n                  type=\"secondary\"\n                  icon={<MenuOutlined />}\n                />\n              </Link>\n            </Space>\n          </div>\n\n          <Tree\n            key={treeKey}\n            defaultExpandParent\n            defaultSelectedKeys={[command]}\n            defaultExpandedKeys={[command]}\n            treeData={treeData}\n            onSelect={this.onTreeSelect}\n          />\n\n          <div>\n            <OcppCommandsForm\n              m={this.m}\n              onFinish={this.onFormFininsh}\n              station={station}\n              command={command}\n            />\n            {commandResult && (\n              <div className=\"inspector\">\n                <hr />\n                <h3>\n                  {this.m(\"result\")}\n                  <Button\n                    className=\"gx-ml-2 gx-mb-0\"\n                    onClick={() => {\n                      navigator.clipboard.writeText(\n                        JSON.stringify(commandResult, null, 2)\n                      );\n                      message.success(this.m(\"copied\"));\n                    }}\n                    icon={<CopyOutlined />}\n                  />\n                </h3>\n                <pre>{JSON.stringify(commandResult, null, 2)}</pre>\n              </div>\n            )}\n          </div>\n        </Layout4>\n      </>\n    );\n  }\n}\n\nexport default withRouter(injectIntl(OcppCommands));\n","export default function regexEscape(string = \"\") {\n  return string.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n}\n"],"sourceRoot":""}