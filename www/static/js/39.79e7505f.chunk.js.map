{"version":3,"sources":["routes/Admin/Console/Console.js","routes/Admin/Title.js"],"names":["TextArea","Input","TabPane","Tabs","Console","props","pendingStart","setState","pending","pendingEnd","m","key","prefix","intl","formatMessage","id","submit","context","api","q","state","query","JSON","parse","params","result","title","this","url","icon","direction","style","width","className","value","onChange","e","target","placeholder","onPressEnter","rows","loading","onClick","type","spinning","defaultActiveKey","tab","expandLevel","data","React","Component","contextType","Context","injectIntl","Title","to"],"mappings":"iSAQQA,EAAaC,IAAbD,SACAE,EAAYC,IAAZD,QAEFE,EAAO,kDAEX,WAAYC,GAAQ,IAAD,EAOf,OAPe,qBACjB,cAAMA,IAQRC,aAAe,WACb,EAAKC,SAAS,CAAEC,SAAS,GAC3B,EAAE,EACFC,WAAa,WACX,EAAKF,SAAS,CAAEC,SAAS,GAC3B,EAAE,EACFE,EAAI,SAACC,GAAoC,IAA/BC,EAAM,uDAAG,iBAEjB,OADiB,EAAKP,MAAdQ,KACIC,cAAc,CAAEC,GAAIH,EAASD,GAC3C,EAAE,EACFK,OAAM,gCAAG,8FACa,OAApB,EAAKV,eAAe,SACD,EAAKW,QAAQC,IAAIC,EAClC,EAAKC,MAAMC,MACXC,KAAKC,MAAM,EAAKH,MAAMI,QAAU,OAChC,KAAD,EAHGC,EAAM,OAIV,EAAKhB,aACL,EAAKF,SAAS,CAAEkB,WAAU,2CAxB1B,EAAKL,MAAQ,CACXZ,SAAS,EACTa,MAAO,GACPG,OAAQ,GACRC,OAAQ,MACR,CACJ,CAqEC,OArEA,mCAoBD,WAAU,IAAD,OACP,OACE,qCACE,cAAC,IAAK,CACJC,MAAOC,KAAKjB,EAAE,WACdkB,IAAI,iBACJC,KAAM,cAAC,IAAc,MAEvB,eAAC,IAAK,CAACC,UAAU,WAAWC,MAAO,CAAEC,MAAO,QAAS,UACnD,cAAC,IAAI,CAACD,MAAO,CAAEC,MAAO,QAAUC,UAAU,UAAS,SACjD,eAAC,IAAK,CAACH,UAAU,WAAWC,MAAO,CAAEC,MAAO,QAAS,UACnD,cAAC,IAAK,CACJE,MAAOP,KAAKP,MAAMC,MAClBc,SAAU,SAACC,GAAC,OAAK,EAAK7B,SAAS,CAAEc,MAAOe,EAAEC,OAAOH,OAAQ,EACzDI,YAAaX,KAAKjB,EAAE,SACpB6B,aAAcZ,KAAKX,SAErB,cAAChB,EAAQ,CACPwC,KAAM,EACNN,MAAOP,KAAKP,MAAMI,OAClBW,SAAU,SAACC,GAAC,OAAK,EAAK7B,SAAS,CAAEiB,OAAQY,EAAEC,OAAOH,OAAQ,EAC1DI,YAAaX,KAAKjB,EAAE,YAEtB,cAAC,IAAM,CACL+B,QAASd,KAAKP,MAAMZ,QACpBkC,QAASf,KAAKX,OACd2B,KAAK,UACLV,UAAU,kBAAiB,SAE1BN,KAAKjB,EAAE,iBAKd,cAAC,IAAI,CAACqB,MAAO,CAAEC,MAAO,QAAUC,UAAU,YAAW,SACnD,cAAC,IAAI,CAACW,SAAUjB,KAAKP,MAAMZ,QAAQ,SACjC,eAAC,IAAI,CAACqC,iBAAiB,SAAQ,UAC7B,cAAC3C,EAAO,CAAC4C,IAAKnB,KAAKjB,EAAE,UAAU,SAC7B,cAAC,IAAe,CAACqC,YAAa,EAAGC,KAAMrB,KAAKP,MAAMK,UADhB,UAGpC,cAACvB,EAAO,CAAC4C,IAAKnB,KAAKjB,EAAE,SAAS,SAC5B,cAAC,IAAc,CAACsC,KAAMrB,KAAKP,MAAMK,UADA,qBASjD,KAAC,EA/EU,CAASwB,IAAMC,WAAtB9C,EACG+C,YAAcC,IAgFRC,sBAAWjD,E,mCC5F1B,8EAIe,SAASkD,EAAMjD,GAC5B,OACE,qCACE,cAAC,IAAM,UACL,gCAAQA,EAAMqB,UAEhB,oBAAIO,UAAU,gBAAe,SAC3B,cAAC,IAAI,CAACsB,GAAIlD,EAAMuB,IAAKK,UAAU,eAAc,SAC3C,eAAC,IAAK,WACH5B,EAAMwB,KACNxB,EAAMqB,eAMnB,C","file":"static/js/39.79e7505f.chunk.js","sourcesContent":["import React from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { Tabs, Card, Input, Space, Button, Spin } from \"antd\";\nimport { ObjectInspector, TableInspector } from \"react-inspector\";\nimport Context from \"../../../Context\";\nimport Title from \"../Title\";\nimport { ExportOutlined } from \"@ant-design/icons\";\n\nconst { TextArea } = Input;\nconst { TabPane } = Tabs;\n\nclass Console extends React.Component {\n  static contextType = Context;\n  constructor(props) {\n    super(props);\n    this.state = {\n      pending: false,\n      query: \"\",\n      params: \"\",\n      result: null,\n    };\n  }\n  pendingStart = () => {\n    this.setState({ pending: true });\n  };\n  pendingEnd = () => {\n    this.setState({ pending: false });\n  };\n  m = (key, prefix = \"admin.console.\") => {\n    const { intl } = this.props;\n    return intl.formatMessage({ id: prefix + key });\n  };\n  submit = async () => {\n    this.pendingStart();\n    let result = await this.context.api.q(\n      this.state.query,\n      JSON.parse(this.state.params || \"{}\")\n    );\n    this.pendingEnd();\n    this.setState({ result });\n  };\n  render() {\n    return (\n      <>\n        <Title\n          title={this.m(\"console\")}\n          url=\"/admin/console\"\n          icon={<ExportOutlined />}\n        />\n        <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n          <Card style={{ width: \"100%\" }} className=\"gx-mb-0\">\n            <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n              <Input\n                value={this.state.query}\n                onChange={(e) => this.setState({ query: e.target.value })}\n                placeholder={this.m(\"query\")}\n                onPressEnter={this.submit}\n              />\n              <TextArea\n                rows={3}\n                value={this.state.params}\n                onChange={(e) => this.setState({ params: e.target.value })}\n                placeholder={this.m(\"params\")}\n              />\n              <Button\n                loading={this.state.pending}\n                onClick={this.submit}\n                type=\"primary\"\n                className=\"gx-mb-0 gx-mt-2\"\n              >\n                {this.m(\"submit\")}\n              </Button>\n            </Space>\n          </Card>\n\n          <Card style={{ width: \"100%\" }} className=\"inspector\">\n            <Spin spinning={this.state.pending}>\n              <Tabs defaultActiveKey=\"object\">\n                <TabPane tab={this.m(\"object\")} key=\"object\">\n                  <ObjectInspector expandLevel={2} data={this.state.result} />\n                </TabPane>\n                <TabPane tab={this.m(\"table\")} key=\"table\">\n                  <TableInspector data={this.state.result} />\n                </TabPane>\n              </Tabs>\n            </Spin>\n          </Card>\n        </Space>\n      </>\n    );\n  }\n}\nexport default injectIntl(Console);\n","import { Space } from \"antd\";\nimport React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Link } from \"react-router-dom\";\nexport default function Title(props) {\n  return (\n    <>\n      <Helmet>\n        <title>{props.title}</title>\n      </Helmet>\n      <h2 className=\"title gx-mb-4\">\n        <Link to={props.url} className=\"gx-text-dark\">\n          <Space>\n            {props.icon}\n            {props.title}\n          </Space>\n        </Link>\n      </h2>\n    </>\n  );\n}\n"],"sourceRoot":""}